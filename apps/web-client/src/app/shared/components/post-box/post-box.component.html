<section class="flex border-b border-gray-700 py-2 px-3">
  <!-- Profile Picture -->
  <div class="mr-4">
    <project-user-avatar></project-user-avatar>
  </div>

  <!-- Post Content -->
  <main class="flex flex-col w-full space-y-2">
    <div class="cursor-pointer" (click)="goToPost()">
      <!-- Name and time -->
      <div class="flex items-center group text-[#6e767d] justify-between">
        <div class="flex items-center">
          <h4
            class="font-bold text-[15px] sm:text-base text-[#d9d9d9] group-hover:underline mr-0.5"
          >
            {{ (post.author | authUser).name }}
          </h4>
          <span class="mr-2">@{{ (post.author | authUser)?.username }} </span>
          <span class="text-sm">{{ post.createdAt | dateAgo }}</span>
        </div>
        <div class="icon">
          <ng-icon name="hero-dots-horizontal" size="22"></ng-icon>
        </div>
      </div>
      <!-- Post text if any  -->
      <!-- Todo: add a check to see if the post has a text -->
      <p class="text-[#d9d9d9] mt-0.5 text-xl">
        {{ post.content }}
      </p>

      <!-- Post Image if Any -->

      <ng-container *ngIf="hasPostMedia">
        <img
          *ngFor="let media of post.postMedia"
          class="rounded-2xl max-h-[450px] object-cover mr-2"
          alt="media"
          [src]="media.url"
        />
      </ng-container>
    </div>

    <!-- Icons Group -->
    <section class="w-full">
      <div class="flex items-center w-[80%] justify-between">
        <!-- Chat Icon  -->
        <div class="postBox__icon chat-icon">
          <div class="svg__icon_wrapper">
            <ng-icon class="svg__icon" name="hero-chat" size="20"></ng-icon>
          </div>
          <span class="chat-icon__text">{{ post.commentsCount }}</span>
        </div>
        <!-- Retweet Icon -->
        <div class="postBox__icon retweet-icon">
          <div class="svg__icon_wrapper">
            <ng-icon
              class="svg__icon"
              name="feather-repeat"
              size="20"
            ></ng-icon>
          </div>
          <span class="retweet-icon__text">{{ post.retweetsCount }}</span>
        </div>

        <!-- Like Icon -->
        <div class="postBox__icon heart-icon" (click)="handlePostVote()">
          <div class="svg__icon_wrapper">
            <ng-icon class="svg__icon" name="hero-heart" size="20"></ng-icon>
          </div>
          <span class="heart-icon__text">{{ post.likesCount }}</span>
        </div>

        <!-- Share icon -->
        <div class="postBox__icon chat-icon">
          <div class="svg__icon_wrapper">
            <ng-icon class="svg__icon" name="hero-share" size="20"></ng-icon>
          </div>
        </div>
      </div>
    </section>
  </main>
</section>
